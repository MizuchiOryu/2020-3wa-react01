<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Hello React</title>
    <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://raw.githack.com/playoutprod/2020-3wa-react01/master/01_FORMULAIRES_LIFTINGUP/exercices/slider/style.css" media="all"/>
  </head>
  <body>
    <div id="root"></div>
    <!-- compilation JSX => JS -->
    <script type="text/babel">


      function loadJSON(url,callback) {
        fetch('https://raw.githubusercontent.com/playoutprod/2020-3wa-react01/master/01_FORMULAIRES_LIFTINGUP/exercices/slider/data.json')
        .then(response => {
            if (!response.ok) {
                throw new Error("HTTP error " + response.status);
            }
            return response.json();
        })
        .then(json => {
           callback(json);
        })
      }


      class App extends React.Component{

        constructor(props){
          super(props);
          this.data = null;
          this.state = {
            dataLoaded : false
          }
          loadJSON("https://raw.githubusercontent.com/playoutprod/2020-3wa-react01/master/01_FORMULAIRES_LIFTINGUP/exercices/slider/data.json",this.onDataLoaded)
        }

        onDataLoaded = (data) => {
          this.data = data;
          this.setState({
            dataLoaded : true
          })
        }

        render(){
          return(
          <div id="slider">
            <div id="loader-1"></div>

          </div>
          )
        }
      }


     ReactDOM.render(
         <App/>,
         document.getElementById("root")
     );

    </script>
  </body>
</html>
